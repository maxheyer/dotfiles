{
  "layer": "top", // Waybar at top layer
  "position": "top", // Waybar position (top|bottom|left|right)
  // "width": 1280, // Waybar width
  // Choose the order of the modules
  "modules-left": [
    "temperature",
    "cpu",
    "memory",
    "custom/netusage"
  ],
  "modules-center": [
    "clock"
  ],
  "modules-right": [
    "custom/kubernetes",
    "custom/mpv",
    "pulseaudio",
    "network",
    "backlight",
    "battery",
    "niri/language",
    "tray",
    "custom/darkman",
    "custom/lock"
  ],
  "custom/darkman": {
    "format": "{}",
    "exec": "sh -c \"darkman get | grep -q 'dark' && echo 'üåô' || echo '‚òÄÔ∏è'\"",
    "interval": 1,
    "on-click": "darkman toggle",
    "tooltip": false
  },
  "custom/netusage": {
    "format": "{}",
    "interval": 1,
    "exec": "bash -lc 'iface=wlan0; st=/run/user/$(id -u)/.netusage_$iface; rx=$(cat /sys/class/net/$iface/statistics/rx_bytes 2>/dev/null) || { echo \"no iface\"; exit 0; }; tx=$(cat /sys/class/net/$iface/statistics/tx_bytes 2>/dev/null) || { echo \"no iface\"; exit 0; }; now=$(date +%s); if [ -r \"$st\" ]; then read pt prx ptx < \"$st\"; dt=$((now-pt)); [ $dt -lt 1 ] && dt=1; dr=$((rx-prx)); du=$((tx-ptx)); [ $dr -lt 0 ] && dr=0; [ $du -lt 0 ] && du=0; down=$((dr/dt)); up=$((du/dt)); else down=0; up=0; fi; printf \"%s %s %s\\n\" \"$now\" \"$rx\" \"$tx\" > \"$st\"; printf \"NET ‚á£%dKB/s ‚á°%dKB/s\\n\" $((down/1024)) $((up/1024))'"
  },
  "memory": {
    "interval": 1,
    "format": "{icon}",
    "format-icons": [
      "<span color='#69ff94'>‚ñÅ</span>", // low
      "<span color='#2aa9ff'>‚ñÇ</span>",
      "<span color='#f8f82'>‚ñÉ</span>",
      "<span color='#f8f82'>‚ñÑ</span>",
      "<span color='#ffffa5'>‚ñÖ</span>",
      "<span color='#ffffa5'>‚ñÜ</span>",
      "<span color='#ff9977'>‚ñá</span>",
      "<span color='#dd532e'>‚ñà</span>" // high
    ]
  },
  "cpu": {
    "interval": 1,
    "format": "{icon0}{icon1}{icon2}{icon3}{icon4}{icon5}{icon6}{icon7}{icon8}{icon9}{icon10}{icon11}{icon12}{icon13}{icon14}{icon15}",
    "format-icons": [
      "<span color='#69ff94'>‚ñÅ</span>", // green
      "<span color='#2aa9ff'>‚ñÇ</span>", // blue
      "<span color='#f8f8f2'>‚ñÉ</span>", // white
      "<span color='#f8f8f2'>‚ñÑ</span>", // white
      "<span color='#ffffa5'>‚ñÖ</span>", // yellow
      "<span color='#ffffa5'>‚ñÜ</span>", // yellow
      "<span color='#ff9977'>‚ñá</span>", // orange
      "<span color='#dd532e'>‚ñà</span>" // red
    ]
  },
  "custom/mpv": {
    "format": "{}",
    "interval": 2,
    "exec": "bash -lc 'S=/tmp/mpvsocket; if [ -S \"$S\" ]; then printf %s\\\\n \"{\\\"command\\\": [\\\"get_property\\\", \\\"media-title\\\"]}\" | socat - \"$S\" | jq -r .data | sed -e \"s/^null$//\"; else echo \"\"; fi'"
  },
  "custom/kubernetes": {
    "exec": "kubectl config current-context",
    "interval": 3,
    "tooltip": true
  },
  "niri/workspaces": {
    "format": "{icon}",
    "format-icons": {
      "default": "ÔÑë"
    },
  },
  "tray": {
    "icon-size": 12,
    "spacing": 10
  },
  "custom/music": {
    "format": "ÔÄÅ  {}",
    "escape": true,
    "interval": 5,
    "tooltip": false,
    "exec": "playerctl metadata --format='{{ title }}'",
    "on-click": "playerctl play-pause",
    "max-length": 50
  },
  "clock": {
    "timezone": "Europe/Berlin",
    "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
    "format": "ÔÄó  {:%H:%M %a %h %d}"
  },
  "backlight": {
    "device": "amdgpu_bl1",
    "format": "{icon} {percent}%",
    "format-alt": "{icon}",
    "tooltip": false,
    "format-icons": [
      "Óéç",
      "Óèì",
      "Óèë",
      "Óèè",
      "Óèé",
      "Óèç",
      "Óèä",
      "Óèà",
      "Óéõ"
    ]
  },
  "battery": {
    "interval": 30,
    "states": {
      "warning": 20,
      "critical": 10
    },
    "format": "{icon} {capacity}%",
    "format-charging": "Û∞ÇÑ {capacity}%",
    "format-plugged": "Ôá¶ {capacity}%",
    "format-alt": "{icon}",
    "format-icons": [
      "Û∞Çé",
      "Û∞Å∫",
      "Û∞Åª",
      "Û∞Åº",
      "Û∞ÅΩ",
      "Û∞Åæ",
      "Û∞Åø",
      "Û∞ÇÄ",
      "Û∞ÇÅ",
      "Û∞ÇÇ",
      "Û∞Åπ"
    ]
  },
  "pulseaudio": {
    // "scroll-step": 1, // %, can be a float
    "format": "{icon} {volume}%",
    "format-muted": "Óª® ",
    "format-icons": {
      "default": [
        "ÔÄ¶",
        "ÔÄß",
        "ÔÄ®"
      ]
    },
    "on-click": "wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle",
    "on-click-right": "pavucontrol",
  },
  "custom/lock": {
    "tooltip": false,
    "on-click": "swaylock &",
    "format": "ÔÄ£ ",
  },
  "custom/power": {
    "tooltip": false,
    "on-click": "wlogout &",
    "format": "‚èª "
  },
  "niri/language": {
    "format": "ÔÑú  {short}",
    "on-click": "niri msg action switch-layout next",
  },
  "network": {
    "interface": "wlan0",
    "format": "{ifname}",
    "format-disconnected": "ÔÑ™",
    "format-wifi": "Ôá´ ",
    "format-alt": "Ôá´  {essid}",
    "tooltip-format": "{signalStrength}%",
    "tooltip-format-wifi": "{essid} {signalStrength}%",
    "tooltip-format-disconnected": "No Connection",
  }
}
